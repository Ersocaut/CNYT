from ClassicToQuantum import *
import unittest

class Slit(unittest.TestCase):
    def test(self):
        Matriz_Doble_Rendija = [
            [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
            [[1 / (2**(1/2)), 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
            [[1 / (2**(1/2)), 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
            [[0, 0], [-1 / (6**(1/2)), 1 / (6**(1/2))], [0, 0], [1, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
            [[0, 0], [-1 / (6**(1/2)), -1 / (6**(1/2))], [0, 0], [0, 0], [1, 0], [0, 0], [0, 0], [0, 0]],
            [[0, 0], [1 / (6**(1/2)), -1 / (6**(1/2))], [-1 / (6**(1/2)), 1 / (6**(1/2))], [0, 0], [0, 0],
             [1, 0], [0, 0], [0, 0]],
            [[0, 0], [0, 0], [-1 / (6**(1/2)), -1 / (6**(1/2))], [0, 0], [0, 0], [0, 0], [1, 0], [0, 0]],
            [[0, 0], [0, 0], [1 / (6**(1/2)), -1 / (6**(1/2))], [0, 0], [0, 0], [0, 0], [0, 0], [1, 0]]]

        Estado_Inicial = [[1, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]]

        self.assertEqual(multipleSlitCuantico(Matriz_Doble_Rendija[:],
                                                       Estado_Inicial[:], 2),
                         [[[0.0, 0], [0.0, 0], [0.0, 0], [0.0, 0], [0.0, 0], [0.0, 0], [0.0, 0], [0.0, 0]],
                          [[0.0, 0], [0.0, 0], [0.0, 0], [0.0, 0], [0.0, 0], [0.0, 0], [0.0, 0], [0.0, 0]],
                          [[0.0, 0], [0.0, 0], [0.0, 0], [0.0, 0], [0.0, 0], [0.0, 0], [0.0, 0], [0.0, 0]],
                          [[0.1666666666666667, 0], [0.3333333333333334, 0], [0.0, 0], [1.0, 0], [0.0, 0], [0.0, 0],
                           [0.0, 0], [0.0, 0]],
                          [[0.1666666666666667, 0], [0.3333333333333334, 0], [0.0, 0], [0.0, 0], [1.0, 0], [0.0, 0],
                           [0.0, 0], [0.0, 0]],
                          [[0.0, 0], [0.3333333333333334, 0], [0.3333333333333334, 0], [0.0, 0], [0.0, 0], [1.0, 0],
                           [0.0, 0], [0.0, 0]],
                          [[0.1666666666666667, 0], [0.0, 0], [0.3333333333333334, 0], [0.0, 0], [0.0, 0], [0.0, 0],
                           [1.0, 0], [0.0, 0]],
                          [[0.1666666666666667, 0], [0.0, 0], [0.3333333333333334, 0], [0.0, 0], [0.0, 0], [0.0, 0],
                           [0.0, 0], [1.0, 0]]])

        answ = accion(multipleSlitCuantico(Matriz_Doble_Rendija[:],
                                                                  Estado_Inicial[:], 2), Estado_Inicial)
        grafico(answ)

    if __name__ == '__main__':
        unittest.main()